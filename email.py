import emails
from emails.template import JinjaTemplate as T

import config

email_subject = "Frosty predicts {{temperature}}Â° at {{time}}"
email_contents = "<p>This message was generated by Frosty on the Raspberry Pi.</p>"


def send_email(temperature, time):
    '''Send an email notification
    '''

    message = emails.html(subject=T(email_subject),
                          html=T(email_contents),
                          mail_from=(config.email["from"]["name"], config.email["from"]["email"]))

    message.send(to=(config.email["to"]["name"], config.email["to"]["email"]),
                 render={"temperature": temperature, "time": time},
                 smtp=config.email["smtp"])
